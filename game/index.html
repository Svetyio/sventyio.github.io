<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8" />
  <title>Svetlyo Slot Game Animated</title>
  <style>
    body {
      margin: 0;
      background: linear-gradient(to bottom, #000000, #1a1a1a);
      color: white;
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
    }
    canvas {
      display: block;
      margin: 30px auto;
      background: #111;
      border: 10px solid #ffcc00;
      border-radius: 25px;
      box-shadow: 0 0 25px #ffcc00;
    }
  </style>
</head>
<body>
  <h1>–î–æ–±—Ä–µ –¥–æ—à–ª–∏ –≤ Svetlyo Games</h1>
  <canvas id="gameCanvas" width="1000" height="1000"></canvas>
  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const FRUITS = ['üçé', 'üçí', 'üçá', '‚≠ê', 'üçâ'];
    const GRID_SIZE = 5;
    let grid = [...Array(GRID_SIZE)].map(() => Array(GRID_SIZE).fill(''));
    let animationPattern = 0;

    function drawCell(x, y, fruit) {
      const size = 160;
      const margin = 8;
      const offsetX = (canvas.width - (GRID_SIZE * size + (GRID_SIZE - 1) * margin)) / 2;
      const offsetY = 80;
      const dx = offsetX + x * (size + margin);
      const dy = offsetY + y * (size + margin);
      ctx.fillStyle = '#222';
      ctx.fillRect(dx, dy, size, size);
      ctx.font = '64px serif';
      ctx.fillStyle = 'white';
      ctx.fillText(fruit, dx + 45, dy + 95);
    }function generateGrid() {
      for (let y = 0; y < GRID_SIZE; y++) {
        for (let x = 0; x < GRID_SIZE; x++) {
          grid[y][x] = FRUITS[Math.floor(Math.random() * FRUITS.length)];
        }
      }
    }

    function animatePattern(patternIndex = 0) {
      const delay = 80;
      const positions = [];

      switch (animationPattern) {
        case 0: // –æ—Ç–ª—è–≤–æ –Ω–∞–¥—è—Å–Ω–æ –ø–æ –∫–æ–ª–æ–Ω–∏
          for (let x = 0; x < GRID_SIZE; x++) {
            for (let y = 0; y < GRID_SIZE; y++) {
              positions.push({ x, y, delay: x * delay });
            }
          }
          break;
        case 1: // –æ—Ç–¥–æ–ª—É –Ω–∞–≥–æ—Ä–µ –ø–æ —Ä–µ–¥–æ–≤–µ
          for (let y = GRID_SIZE - 1; y >= 0; y--) {
            for (let x = 0; x < GRID_SIZE; x++) {
              positions.push({ x, y, delay: (GRID_SIZE - 1 - y) * delay });
            }
          }
          break;
        case 2: // –¥–∏–∞–≥–æ–Ω–∞–ª–Ω–æ –æ—Ç–ª—è–≤–æ –Ω–∞–¥–æ–ª—É
          for (let d = 0; d < GRID_SIZE * 2 - 1; d++) {
            for (let y = 0; y <= d; y++) {
              let x = d - y;
              if (x < GRID_SIZE && y < GRID_SIZE) {
                positions.push({ x, y, delay: d * delay });
              }
            }
          }
          break;
        default: // —Å–ª—É—á–∞–π–Ω–æ
          for (let y = 0; y < GRID_SIZE; y++) {
            for (let x = 0; x < GRID_SIZE; x++) {
              positions.push({ x, y, delay: Math.floor(Math.random() * 400) });
            }
          }
      }

      ctx.clearRect(0, 0, canvas.width, canvas.height);
      let i = 0;
      function drawNext() {
        if (i >= positions.length) return;
        const { x, y } = positions[i];
        drawCell(x, y, grid[y][x]);
        i++;
        setTimeout(drawNext, positions[i] ? positions[i].delay - positions[i - 1].delay : 0);
      }

      drawNext();
    }

    function spin() {
      generateGrid();
      animationPattern = (animationPattern + 1) % 4;
      animatePattern(animationPattern);
    }

    // –ù–∞—á–∞–ª–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ
    generateGrid();
    animatePattern();

    // –°–ø–∏–Ω –ø—Ä–∏ –≤—Å—è–∫–æ –∫–ª–∏–∫–≤–∞–Ω–µ
    canvas.addEventListener('click', spin);
  </script>
</body>
</html>
