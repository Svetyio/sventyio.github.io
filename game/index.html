<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8">
  <title>ELITE SWORD GAME - Casino Slot</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@900&family=Roboto:wght@400;900&display=swap" rel="stylesheet">
  <style>
    :root {
      --gold: #FFD700;
      --deep-red: #880000;
      --red-gradient: linear-gradient(180deg, #e10000 60%, #880000 100%);
      --black: #111;
      --btn-green: #32cd32;
      --btn-inactive: #222;
      --white: #fff;
      --shadow-glow: 0 0 30px 8px #FFD70055, 0 0 0 7px #FFD70033;
    }
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
    body {
      background: linear-gradient(140deg, #000 60%, #880000 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Roboto', Arial, sans-serif;
      overflow-x: hidden;
    }
    .casino-container {
      background: rgba(20, 10, 5, 0.99);
      border: 5px solid var(--gold);
      border-radius: 26px;
      box-shadow: 0 0 80px 12px var(--gold), 0 0 0 10px var(--deep-red) inset;
      padding: 12px 6px 18px 6px;
      display: flex;
      flex-direction: column;
      align-items: center;
      max-width: 370px;
      min-width: 250px;
      width: 96vw;
      position: relative;
      margin: 0 auto;
    }
    .casino-title {
      font-family: 'Orbitron', 'Roboto', Arial, sans-serif;
      font-size: 2rem;
      letter-spacing: 0.13em;
      color: var(--gold);
      text-shadow: 0 0 12px var(--deep-red), 0 0 24px var(--gold);
      margin-bottom: 7px;
      font-weight: 900;
      text-align: center;
      text-transform: uppercase;
      border-bottom: 2px solid #FFD70044;
      padding-bottom: 6px;
      width: 100%;
      user-select: none;
      z-index: 2;
      background: rgba(0,0,0,0.12);
    }
    .balance-bar {
      width: 100%;
      justify-content: space-between;
      display: flex;
      align-items: center;
      margin: 8px 0 7px 0;
      padding: 2px 6px 1px 6px;
      font-size: 1.06rem;
      background: rgba(0,0,0,0.22);
      border-radius: 10px;
      color: var(--gold);
      font-family: 'Orbitron', 'Roboto', Arial, sans-serif;
      font-weight: 900;
      box-shadow: 0 2px 9px 0 #FFD70033;
      border: 2px solid #FFD70044;
      z-index: 2;
      gap: 4px;
    }
    .balance-bar .stat-label {
      color: #FFD700cc;
      font-size: 0.97em;
      font-weight: 400;
      margin-right: 2px;
    }
    .bet-label {
      color: #fff;
      text-align: center;
      font-family: 'Orbitron', Arial, sans-serif;
      font-size: 1.09rem;
      font-weight: 900;
      margin: 10px 0 6px 0;
      letter-spacing: 0.04em;
      text-shadow: 0 2px 8px #88000033, 0 0 5px #FFD70044;
      width: 100%;
      user-select: none;
    }
    .bet-buttons {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin: 0 0 12px 0;
      width: 100%;
      z-index: 2;
    }
    .bet-btn {
      background: var(--btn-inactive);
      color: var(--white);
      border: 2px solid var(--gold);
      border-radius: 10px;
      font-size: 1.2rem;
      font-family: 'Orbitron', 'Roboto', Arial, sans-serif;
      font-weight: 900;
      width: 42px; height: 38px;
      cursor: pointer;
      box-shadow: 0 2px 7px 0 #FFD70033, 0 0 0 3px #FFD70022 inset;
      transition: background 0.15s, color 0.15s, box-shadow 0.13s;
      outline: none;
      user-select: none;
      letter-spacing: 1px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .bet-btn.selected {
      background: var(--btn-green);
      color: #000;
      border: 2.5px solid #fff;
      box-shadow: 0 0 12px 2px #32cd32aa,0 0 0 2px #FFD70044 inset;
    }
    .bet-btn:active:not(.selected) {
      background: #444;
      color: #FFD700;
    }
    .slot-outer {
      background: linear-gradient(160deg, #222 90%, #FFD70022 100%);
      border: 4px solid var(--gold);
      border-radius: 13px;
      padding: 13px 6px;
      box-shadow: 0 0 22px 5px #FFD70044, 0 0 0 5px #88000088 inset;
      margin-bottom: 12px;
      position: relative;
      z-index: 2;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-width: 180px;
      width: 100%;
      max-width: 99vw;
    }
    .slot-machine {
      display: grid;
      grid-template-columns: repeat(3, 56px);
      grid-template-rows: repeat(3, 56px);
      gap: 7px;
      z-index: 2;
      margin: 0 auto;
      justify-content: center;
      align-items: center;
    }
    .slot-cell {
      background: linear-gradient(135deg, #111 70%, #880000 100%);
      border: 2.5px solid var(--gold);
      border-radius: 7px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      font-family: 'Orbitron', 'Roboto', Arial, sans-serif;
      font-weight: 900;
      color: var(--gold);
      text-shadow: 0 0 12px var(--deep-red), 0 0 8px var(--gold);
      transition: transform 0.21s cubic-bezier(.32,.72,.43,1.33), box-shadow 0.19s;
      box-shadow: 0 0 7px 0 #FFD70033;
      user-select: none;
      width: 56px; height: 56px;
    }
    .slot-cell.winner {
      background: linear-gradient(135deg, var(--gold) 80%, #e10000 100%);
      color: #880000;
      transform: scale(1.15) rotate(-2deg);
      box-shadow: 0 0 16px 7px var(--gold),0 0 0 3px #88000088 inset;
      border-color: #e10000;
      z-index: 2;
      animation: winner-flash 0.57s alternate infinite;
    }
    @keyframes winner-flash {
      0%   { filter: brightness(1.1) }
      100% { filter: brightness(1.64) }
    }
    /* –ù–æ–≤ –¥–∏–∑–∞–π–Ω –∑–∞ Spin –±—É—Ç–æ–Ω–∞ */
    .spin-btn {
      margin-top: 5px;
      background: var(--red-gradient);
      border: 3px solid var(--gold);
      border-radius: 40px;
      font-family: 'Orbitron', 'Roboto', Arial, sans-serif;
      font-size: 1.45rem;
      font-weight: 900;
      color: #fff;
      padding: 15px 62px;
      box-shadow: 0 8px 30px 0 #FFD70088, 0 0 0 8px #FFD70033 inset, 0 0 30px 6px #88000055;
      cursor: pointer;
      letter-spacing: 0.12em;
      transition: background 0.17s, transform 0.13s, box-shadow 0.17s, color 0.13s;
      text-shadow: 0 0 6px var(--gold), 0 0 12px #88000055;
      outline: none;
      user-select: none;
      z-index: 2;
      min-width: 140px;
      border-bottom-width: 4px;
      border-top-width: 2px;
      border-left-width: 3px;
      border-right-width: 3px;
    }
    .spin-btn:hover, .spin-btn:active {
      background: linear-gradient(180deg, #ff2222 80%, #e10000 100%);
      color: var(--gold);
      transform: scale(1.04) translateY(-2px);
      box-shadow: 0 0 32px 8px var(--gold), 0 0 0 10px #FFD70033 inset;
      text-shadow: 0 0 16px #fff, 0 0 12px #FFD700;
    }
    .payout-table {
      width: 100%;
      margin-top: 16px;
      background: rgba(0,0,0,0.19);
      border-radius: 10px;
      border: 2px solid var(--gold);
      box-shadow: 0 2px 7px 0 #FFD70033, 0 0 0 2px #88000033 inset;
      font-family: 'Roboto', Arial, sans-serif;
      color: var(--gold);
      font-size: 1.02rem;
      overflow: hidden;
      z-index: 2;
    }
    .payout-table table { width: 100%; border-collapse: collapse; }
    .payout-table th, .payout-table td {
      padding: 5px 0;
      text-align: center;
      border-bottom: 1.5px solid #FFD70022;
      font-family: 'Orbitron', 'Roboto', Arial, sans-serif;
      font-size: 1.04em;
    }
    .payout-table th {
      background: #FFD70022;
      color: #fff;
      font-weight: 900;
      font-size: 1.08em;
      letter-spacing: 1px;
      border-bottom: 2px solid #FFD70055;
    }
    .payout-table tr:last-child td { border-bottom: none; }
    .payout-table .icon { font-size: 1.35em; }
    /* Responsive */
    @media (max-width: 600px) {
      .casino-container { padding: 2vw 0 6vw 0; max-width: 99vw; min-width: unset; }
      .casino-title { font-size: 1.09rem; }
      .balance-bar { font-size: 0.97rem; }
      .bet-label { font-size: 0.99rem; }
      .bet-btn { font-size: 1.01rem; width: 28px; height: 27px; }
      .slot-outer { padding: 5px 2vw; }
      .slot-machine {
        grid-template-columns: repeat(3, 16vw);
        grid-template-rows: repeat(3, 16vw);
      }
      .slot-cell { font-size: 1.1rem; width: 16vw; height: 16vw; }
      .spin-btn { padding: 10px 7vw; font-size: 0.98rem; min-width: 72px; }
      .payout-table { font-size: 0.91rem; }
      .payout-table .icon { font-size: 1em; }
    }
    @media (max-width: 350px) {
      .casino-title { font-size: 0.86rem; }
      .balance-bar { font-size: 0.81rem; }
    }
  </style>
</head>
<body>
  <div class="casino-container">
    <div class="casino-title">ELITE SWORD GAME</div>
    <div class="balance-bar">
      <span class="stat-label">–ë–∞–ª–∞–Ω—Å:</span> <span id="balance">1000</span> <span>üí∞</span>
      <span class="stat-label">–ó–∞–ª–æ–≥:</span> <span id="bet">20</span>
      <span class="stat-label">–ü–µ—á–∞–ª–±–∞:</span> <span id="lastWin">0</span>
    </div>
    <div class="bet-label">–ò–∑–±–µ—Ä–µ—Ç–µ –∑–∞–ª–æ–≥:</div>
    <div class="bet-buttons" id="betButtons">
      <button class="bet-btn selected" data-bet="20">20</button>
      <button class="bet-btn" data-bet="40">40</button>
      <button class="bet-btn" data-bet="60">60</button>
      <button class="bet-btn" data-bet="100">100</button>
      <button class="bet-btn" data-bet="200">200</button>
    </div>
    <div class="slot-outer">
      <div class="slot-machine" id="slot">
        <!-- 9 –∫–ª–µ—Ç–∫–∏, –ø–æ–ø—ä–ª–≤–∞—Ç —Å–µ —Å JS -->
      </div>
    </div>
    <button class="spin-btn" id="spinBtn">SPIN</button>
    <div class="payout-table" id="payoutTable"></div>
  </div>
  <script>
    const SYMBOLS = [
      {icon:"üó°Ô∏è", color:"#FFD700", name:"–ú–µ—á", payout:15},
      {icon:"üí∞", color:"#FFD700", name:"–ó–ª–∞—Ç–æ", payout:30},
      {icon:"7", color:"#FF2222", name:"–°–µ–¥–º–∏—Ü–∞", payout:60},
      {icon:"üíé", color:"#00ccff", name:"–î–∏–∞–º–∞–Ω—Ç", payout:40},
      {icon:"üëë", color:"#FFD700", name:"–ö–æ—Ä–æ–Ω–∞", payout:80},
      {icon:"üçÄ", color:"#3ecf30", name:"–î–µ—Ç–µ–ª–∏–Ω–∞", payout:100},
      {icon:"ü¶Ñ", color:"#e100ff", name:"–ï–¥–Ω–æ—Ä–æ–≥", payout:250}
    ];
    let balance = 1000;
    let bet = 20;
    let lastWin = 0;

    const slot = document.getElementById('slot');
    const spinBtn = document.getElementById('spinBtn');
    const balanceEl = document.getElementById('balance');
    const betEl = document.getElementById('bet');
    const lastWinEl = document.getElementById('lastWin');
    const betBtnsWrap = document.getElementById('betButtons');
    const payoutTable = document.getElementById('payoutTable');

    function renderPayoutTable() {
      payoutTable.innerHTML = `
        <table>
          <tr><th>–°–∏–º–≤–æ–ª</th><th>–ò–º–µ</th><th>3 –≤ –ª–∏–Ω–∏—è</th></tr>
          ${SYMBOLS.map(s=>`<tr>
            <td class="icon" style="color:${s.color}">${s.icon}</td>
            <td>${s.name}</td>
            <td style="color:${s.color};font-weight:900;">${s.payout} x –∑–∞–ª–æ–≥–∞</td>
          </tr>`).join("")}
        </table>
      `;
    }
    renderPayoutTable();

    betBtnsWrap.querySelectorAll('.bet-btn').forEach(btn=>{
      btn.addEventListener('click',()=>{
        betBtnsWrap.querySelectorAll('.bet-btn').forEach(b=>b.classList.remove('selected'));
        btn.classList.add('selected');
        bet = parseInt(btn.dataset.bet);
        betEl.textContent = bet;
      });
    });

    let cells = [];
    function createGrid() {
      slot.innerHTML = "";
      cells = [];
      for (let i = 0; i < 9; i++) {
        const cell = document.createElement('div');
        cell.className = 'slot-cell';
        const symbol = SYMBOLS[Math.floor(Math.random() * SYMBOLS.length)];
        cell.textContent = symbol.icon;
        cell.style.color = symbol.color;
        slot.appendChild(cell);
        cells.push(cell);
      }
    }

    function spinAnimation(duration = 1100, fps = 60) {
      return new Promise(resolve => {
        let elapsed = 0, interval = 1000 / fps, spinTicks = 0;
        let spin = setInterval(() => {
          for (let i = 0; i < 9; i++) {
            const symbol = SYMBOLS[Math.floor(Math.random() * SYMBOLS.length)];
            cells[i].textContent = symbol.icon;
            cells[i].style.color = symbol.color;
            cells[i].style.transform = `scale(${1 + 0.07*Math.sin(spinTicks+i)}) rotate(${(spinTicks*12+i*28)%360}deg)`;
          }
          spinTicks++;
          elapsed += interval;
          if (elapsed >= duration) {
            clearInterval(spin);
            resolve();
          }
        }, interval);
      });
    }

    function checkWinner() {
      let lines = [
        [0,1,2],[3,4,5],[6,7,8],
        [0,3,6],[1,4,7],[2,5,8],
        [0,4,8],[2,4,6]
      ];
      let wins = [];
      for (const line of lines) {
        let [a,b,c] = line;
        if (
          cells[a].textContent === cells[b].textContent &&
          cells[a].textContent === cells[c].textContent
        ) {
          let sym = SYMBOLS.find(s=>s.icon===cells[a].textContent);
          wins.push({line, symbol:sym});
        }
      }
      return wins;
    }

    async function spin() {
      if(bet > balance) {
        alert("–ù–µ–¥–æ—Å—Ç–∞—Ç—ä—á–µ–Ω –±–∞–ª–∞–Ω—Å!");
        return;
      }
      spinBtn.disabled = true;
      spinBtn.textContent = "SPINNING...";
      cells.forEach(cell => cell.classList.remove('winner'));
      lastWin = 0;
      lastWinEl.textContent = 0;
      balance -= bet;
      balanceEl.textContent = balance;
      await spinAnimation(1150, 80);
      for (let i = 0; i < 9; i++) {
        const symbol = SYMBOLS[Math.floor(Math.random() * SYMBOLS.length)];
        cells[i].textContent = symbol.icon;
        cells[i].style.color = symbol.color;
        cells[i].style.transform = "scale(1) rotate(0deg)";
      }
      let wins = checkWinner();
      let totalWin = 0;
      if (wins.length > 0) {
        wins.forEach(win=>{
          win.line.forEach(idx => cells[idx].classList.add('winner'));
          totalWin += bet * win.symbol.payout;
        });
        lastWin = totalWin;
        lastWinEl.textContent = totalWin;
        balance += totalWin;
        balanceEl.textContent = balance;
        spinBtn.textContent = "JACKPOT! üéâ";
        setTimeout(()=>{spinBtn.textContent="SPIN"},1800);
      } else {
        spinBtn.textContent = "TRY AGAIN";
        setTimeout(()=>{spinBtn.textContent="SPIN"},1200);
      }
      spinBtn.disabled = false;
    }

    createGrid();
    balanceEl.textContent = balance;
    betEl.textContent = bet;
    lastWinEl.textContent = lastWin;
    spinBtn.addEventListener('click', spin);

    function resizeSlots() {
      let w = window.innerWidth;
      let grid = slot;
      if(w < 600) {
        let cellSize = Math.max(Math.floor((w-44)/3), 46);
        grid.style.gridTemplateColumns = `repeat(3, ${cellSize}px)`;
        grid.style.gridTemplateRows = `repeat(3, ${cellSize}px)`;
      } else {
        grid.style.gridTemplateColumns = `repeat(3, 56px)`;
        grid.style.gridTemplateRows = `repeat(3, 56px)`;
      }
    }
    window.addEventListener('resize',resizeSlots);
    resizeSlots();
    slot.addEventListener('touchmove', e => e.preventDefault(), {passive:false});
  </script>
</body>
</html>
